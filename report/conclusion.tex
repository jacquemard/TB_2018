\chapter{Conclusions}
\section{Bilan du projet}

\subsection{Résultats obtenus} \label{conclusion.projet.resultats}
L'objectif principal, soit de pouvoir mesurer le taux d'occupation d'un des parkings de la HEIG-VD, a été rempli. En général, la plupart des véhicules présents sont bien détectés. Evidemment, tout algorithme de \textit{machine learning}, tout comme l'humain, ne peut prédire correctement dans 100\% des cas. 

Les résultats obtenus sont donc assez bons. Cependant, quelques voitures ne sont parfois pas détectées, ce qui peut poser des problèmes pour les utilisateurs. Par exemple, lorsqu'une personne souhaite stationner son véhicule dans le parking, si l'application développée indique une place libre alors qu'il n'en reste aucune, le conducteur s'en retrouve frustré. Aussi, le parking pourrait être indiqué comme plein, alors que ce n'est pas le cas. Ces points mis de côtés, le système reste suffisamment précis pour indiquer s'il est possible de stationner, et ce même s'il ne reste que 2-3 places libres. Aussi, si les voitures sont stationnées généralement de manière réparti sur tout le parking, une seule caméra bien placée est suffisante pour faire transparaître le taux d'utilisation global. Sur le site de Cheseaux de la HEIG-VD, la caméra filme un parking près d'une entrée secondaire. Les modifications de son taux d'occupation peuvent sans doute être appliquées au taux d'utilisation du parking principal. 

Aussi, une utilisation possible de ce système qui semble tout à fait appropriée est la création de statistiques. Grâce à un tel système, à l'aide d'une simple caméra, des statistiques détaillées concernant les pics d'utilisations, les heures creuses, les heures d'arrivées des premières voitures, etc. peuvent être déduites. Dans un tel contexte, il n'est même pas nécessaire que toutes les voitures soient détectées. 

Si le nombre de places libres doit être extrêmement précis, on conseillera cependant une approche basée sur la segmentation des places de parcs, qui semble apporter des meilleurs résultats. Dans ce travail, les voitures stationnées en bords de routes (parcage "sauvage") ont été prises en compte. Cependant, ce système permet de compter les véhicules présents, mais ne peut pas compter les places libres. En effet, s'il y a un manque de marque au sol, les places disponibles varient en fonction de la façon dont sont stationnés les véhicules. Ainsi, pour une mesure précise, le parcage sauvage devrait être interdit.

Finalement, il est souhaité de préciser que les résultats obtenus ont été réalisés sur des images de parkings de jour, en printemps-été. Ainsi, il aurait été intéressant de tester ce système de nuit, avec de la neige, etc. Cependant, il semble qu'avec un nombre suffisant d'images de parkings labélisées sous toutes ces conditions, les résultats qu'il serait possible d'obtenir devraient être plus ou moins équivalents à ceux obtenus dans ce projet. 

\subsection{Réalisation}

Le projet s'est dans l'ensemble bien déroulé, où un résultat final a pu être fourni. Quelques points concernant sa réalisation sont précisés ici.

La recherche et le choix de la caméra n'ont pas été faciles. Les modèles de caméras disponibles, les protocoles utilisés, la qualité des caméras, ou encore les systèmes de panneaux solaires sont tant de paramètres qu'il a fallu appréhender. De plus, le fait qu'un système autonome était nécessaire a réduit le nombre de caméras disponibles, dont leurs réelles qualités n'étaient pas assurées. Aucune des marques ne semblait être reconnue, contrairement aux systèmes classiques (non autonome) de caméras de sécurité. Malgré ces difficultés, la caméra \textit{Wanscam} commandée a tenu ses promesses: il n'a été détecté qu'un très faible nombre d'interruptions de quelques heures sur plusieurs mois. Il a cependant été nécessaire, une seule fois, de redémarrer la caméra manuellement.

L'installation de la caméra ne s'est pas déroulée tout à fait comme prévu. En effet, il a fallu résoudre plusieurs problèmes: pas de connexion Wifi entreprise, mot de passe du Wifi ne pouvant contenir certains caractères spéciaux, signal trop faible depuis l'extérieur du bâtiment, câblage de la caméra, temps qui a été nécessaire à son installation, etc. La majeure partie des heures prévues pendant le semestre pour le travail de Bachelor a été d'installer la caméra et de résoudre les problèmes, où aucun \textit{machine learning} n'a pu être effectué.

Il semble important de noter que les images qui ont été traitées et capturées par la caméra tout le long du semestre dans le but de créer un corpus annoté n'ont finalement pas été utilisées pour entrainer l'algorithme de détection d'objets, car le traitement effectué n'améliorait pas les résultats. Cependant, le système de capture de photos automatique développé dans ce but a pu être réutilisé pour le développement de l'API \textit{REST}.

\textit{Python 3} a été utilisé dans ce projet. Bien qu'utile pour faire des scripts, la mise en place des librairies externes, comme \textit{Tensorflow Object Detection API} qui a été clonée ou le module \textit{Logging} développé, est parfois fastidieuse. Avec ces librairies, le système d'import n'est pas idéal: il est souvent nécessaire de modifier les variables d'environnements \textit{Python} pour que les importations soient possibles.

Il a été remarqué que pour la détection d'objets ou les réseaux de neurones à convolutions profonds et complexes en général, les temps d'entrainements nécessaires peuvent être extrêmement longs. Tout le processus, du traitement des données aux premiers résultats, prends du temps. Il aurait été préférable de tester beaucoup de modèles différents, ce qui n'était pas possible dans le laps de temps imparti. Aussi, plusieurs modèles ont été définis qui, au final, n'ont apporté aucun résultat. Pour des évaluations complètes, plus de temps aurait été nécessaire.

Une planification a été définie en début de projet. Cependant, elle n'a pas pu être tenue. D'une part, les problèmes survenus lors de l'installation de la caméra ont retardé le début de la phase de \textit{machine learning}. De plus, beaucoup de recherches et de tests ont du être effectués dans le domaine de la détection d'objets avant qu'un modèle fournisse un résultat concluant. On en retirera que, dans un tel domaine où la recherche est en constante évolution et n'est pas entièrement finalisée, la plupart du temps nécessaire à un développement d'un projet concret est consacré à la recherche d'informations.

\subsection{Améliorations possibles}
Le projet en l'état peut être grandement amélioré et de nouvelles fonctionnalités pourraient être développées.

Dans un premier temps, il semble que des évaluations plus approfondies des différents modèles, auraient pu être effectuées. Par exemple, seuls quelques nombres d'itérations différents ont été évalués. Il aurait été idéal de pouvoir suivre les résultats des évaluations au fil des itérations. Aussi, une évaluation plus précise, soit au niveau des voitures détectées plutôt qu'à leur nombre, aurait pu être intéressante. De plus, il aurait été idéal d'évaluer plus amplement les images provenant de la caméra du parking de la HEIG-VD. Pour ce faire, les images capturées auraient pu être prédites par le modèle choisi. En parallèle, les images sont traitées à l'aide d'une détection de bords et enregistrées. Elle peuvent être ainsi annotées sans nuire à la protection des données des utilisateurs. 

Des tests unitaires du système auraient pu être effectués afin de valider le bon fonctionnement du code développé. Cependant, l'accent a été mis sur le sujet principal de ce travail, soit de construire un modèle viable.

Une application utile de ce projet est la création de statistiques d'utilisation du parking. Il serait donc idéal de le montrer par le développement d'un tel système, où le taux d'utilisation du parking serait montré au fil des heures et des jours. Des graphiques pourraient être utilisés.

Une API \textit{REST} simple a été développée. Cependant, elle pourrait être améliorée et agrémentée de quelques statistiques. Aussi, l'utilisateur lambda devrait pouvoir accéder aux informations sur l'état actuel du parking de manière simple. Pour ce faire, on pensera notamment à une interface web, une application mobile, ou encore à un \textit{chatbot} (par exemple \textit{Telegram}) pouvant indiquer à un utilisateur le nombre de places libres. Toutes ces applications peuvent utiliser l'API \textit{REST} développée. 

Comme indiqué précédemment en sous-section \ref{conclusion.projet.resultats}, les statistiques d'une sous-section de parking peuvent sans doute être appliquées à tout le parking. Cette approche mériterait d'être approfondie.

Plusieurs caméras pourraient être installées pour connaître le taux d'utilisation du parking global. En conséquence, il faudrait gérer les problèmes des voitures présentes sur plusieurs caméras, etc. Une approche possible serait de n'utiliser qu'une sous-région bien définie de l'image capturée par une caméra, afin qu'il n'y ai pas de superposition possible. Il doit aussi pouvoir être possible de détecter si une voiture est la même sur deux images différentes. Pour ce faire, un réseau de neurones à convolutions doit pouvoir être utilisé.

Le problème du parcage en bord de route a déjà été abordé. Une solution qui pourrait être explorée afin d'obtenir un taux d'utilisation du parking précis est de détecter algorithmiquement des emplacements libres (sans voiture présente), où la place serait suffisante pour y stationner. Avec un nombre conséquent d'images du parking sous différentes configurations de stationnement, il semble possible de faire correspondre le \textit{pattern} courant à un de ceux présents dans le corpus. Une application indiquant à l'utilisateur où se situent les places libres sur une carte pourrait en conséquence être développée.

\section{Bilan personnel}

Dans l'ensemble, je suis satisfait du travail qui a été effectué et des résultats produits. Finalement, une application concrète, bien que simple, a pu être développée malgré le long cheminement nécessaire et les embûches rencontrées pour arriver jusque là. 

J'ai beaucoup appris, tant au niveau technique qu'organisationnel. J'ai pu approfondir largement ma connaissance du langage \textit{Python} et de multiples librairies d'apprentissage automatique (\textit{Keras}, \textit{Tensorflow}, \textit{Darknet}, etc.). Le traitement d'image est un point qui me semble aussi très important pour un développeur, et j'ai, grâce à ce projet, pu l'aborder.

Si ce projet serait à refaire, je l'aborderais cependant de manière différente. Par exemple, plutôt que de rechercher premièrement à résoudre le problème de façon manuelle à l'aide d'un simple réseau de neurones à convolutions, j'essaierai d'utiliser les librairies de détection d'objets disponibles. Dans tous les cas, je trouve intéressant d'avoir pu explorer d'autres façons de faire, comme traiter le problème sous la forme d'une simple régression, et d'en tirer des conclusions sur les complexités qui sont nécessaires à un tel algorithme. 

J'ai suivi le cours de \textit{machine learning} à la HEIG-VD et j'ai observé une très nette différence par rapport à ce projet. En effet, les laboratoires créés pour le cours sont fait pour fonctionner. Ici, dans le cadre du projet, beaucoup d'idées n'ont apportés aucun résultat. On ne sait jamais à l'avance si ce qui est développé fonctionnera. Parfois, le \textit{machine learning} peut donc être frustrant, et le développement de nouvelles idées entre dans le cadre de la recherche scientifique plutôt que dans l'ingénierie. 

Pour conclure, je retire de ce travail de Bachelor un bilan très positif. Le projet a été intéressant à réaliser, et les résultats sont impressionnants. Des voitures peuvent être détectées à partir d'une image, ce qui semblait inimaginable il y a encore quelques années. Le \textit{machine learning}, de jour en jour, apporte des résultats de plus en plus probants. Je suis donc heureux d'avoir pu effectuer mon travail de Bachelor sur un tel sujet, qui me parait si important pour le futur.