% -----------------------------------------------------------------------
% --- DOCUMENT ---
% -----------------------------------------------------------------------
\documentclass[11pt, a4paper, french, twoside, margin=2cm]{report}
% Margin
\usepackage[top=3.5cm,
            bottom=3cm,
            left=2cm,
            right=2cm,
            footskip=1.5cm,
            headheight=1.5cm,
            headsep=0.9cm]{geometry}

% Todos
\usepackage{todonotes}

% Français
\usepackage[french]{babel}
\usepackage[T1]{fontenc}

% Font & Encoding
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern, textcomp}
\usepackage{gensymb}

% Lorem ipsum
\usepackage{blindtext}

% Styles de paragraphes
\usepackage{parskip}
\setlength{\parindent}{0pt}

% Table et figures
% \usepackage{array}
\usepackage{booktabs}
\usepackage{float} 


% Styles de titres
\usepackage{titlesec}
\titleformat{\chapter}
  {\normalfont\LARGE\bfseries}{\thechapter}{1em}{}
\titlespacing*{\chapter}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
\titleformat{\paragraph}{\normalfont\large}{}{}{\textit}
\titlespacing*{\paragraph}{0pt}{1.5ex plus 1ex minus .2ex}{-0.5em}
\titleformat{\subparagraph}{\normalfont\normalsize}{}{}{\textit}
\titlespacing*{\subparagraph}{0pt}{1.5ex plus 1ex minus .2ex}{-0.5em}
\usepackage{setspace}


% En-têtes
\usepackage{fancyhdr}
\usepackage{graphicx}

%\pagestyle{fancy}
\fancypagestyle{plain}{
  \fancyhf{} % Supprime les en-têtes et pieds de page existants

  \fancyhead[R]{Rémi Jacquemard}
  \fancyhead[LE]{\leftmark}
  \fancyhead[LO]{\includegraphics[width=4cm]{img/logo_heig.png}}

  \fancyfoot[LE,RO]{\thepage{}}
  \fancyfoot[LO]{2018 - TB - Mesure de l'occupation de parkings à l'aide de caméras vidéo}
  \fancyfoot[RE]{TB - Mesure de l'occupation de parkings à l'aide de caméras vidéo - 2018}
}
\pagestyle{plain}
% \thispagestyle{empty} pour faire en sorte d'enlever les headers

%\renewcommand{\footrulewidth}{1pt}
%\patchcmd{\footnoterule}{\vskip \z@ \@plus .05fil}{}{}{}

% Bibliographie
\usepackage{hyperref}
\usepackage{csquotes}
\usepackage[backend=biber, autocite=footnote, style=verbose-note, sorting=nty]{biblatex}
\addbibresource{report.bib}
\setlength\bibnamesep{0.5\baselineskip}
\usepackage[nottoc,numbib]{tocbibind}
% Nomenclature
\usepackage[french]{nomencl}
\makenomenclature

% Citation and references
%\usepackage{caption}[format=hang]
%\usepackage[perpage]{footmisc}
\usepackage[bottom]{footmisc}
%\usepackage{ftnxtra}
% Thanks to Heiko Oberdiek (https://tex.stackexchange.com/questions/95029/add-source-to-figure-caption?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa)
\newcommand*{\captionsource}[2]{
  \caption[{#1}]{
    #1.#2
  }
}
\usepackage{nameref}

% Annexes
\usepackage{appendix}

\raggedbottom

% -----------------------------------------------------------------------
% --- DEBUT DU DOCUMENT ---
% -----------------------------------------------------------------------
\begin{document} 

\selectlanguage{french}

\include{title}

\newpage

\include{remerciements}
\include{cdc}


% Table des matières
\setcounter{tocdepth}{3}
\doublespacing
\tableofcontents
\singlespacing

%====================== INCLUSION DES PARTIES ======================
\include{resume}

\include{introduction}

\include{technologies}

\include{conception}

\include{realisation}

\include{test}

\include{conclusion}

\nocite{*}
\printbibliography
\printnomenclature

\listoffigures
\listoftables   

\include{annexes}
\include{jdt}

\end{document}
